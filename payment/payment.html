<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Fest 2025 - Payment</title>
    <!-- Link to your CSS file -->
    <link rel="stylesheet" href="styles.css">
    <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
    <header>
        <h1>Welcome to College Fest 2025</h1>
        <p>Sign in to complete your payment and access event details.</p>
    </header>

    <main>
        <!-- Google Sign-In button -->
        <div class="auth-container">
            <button id="google-signin-btn" onclick="startAuth()">Sign In with Google</button>
        </div>

        <!-- Placeholder for user info once logged in -->
        <div id="user-info" class="hidden">
            <h3>Welcome, <span id="user-name"></span></h3>
            <p>Email: <span id="user-email"></span></p>
            <button id="logout-btn" onclick="signOut()">Sign Out</button>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 College Fest. All Rights Reserved.</p>
    </footer>

    <script>
        // Initialize the Google API client
        function startAuth() {
            gapi.load('auth2', function() {
                gapi.auth2.init({
                    client_id: '191477420452-gdpmvj83fjfhhu02esuhqdvvloti7rqi.apps.googleusercontent.com', // Replace with your actual Client ID
                }).then(function() {
                    const authInstance = gapi.auth2.getAuthInstance();
                    authInstance.signIn().then(function(googleUser) {
                        // On successful login, retrieve user data
                        const profile = googleUser.getBasicProfile();
                        const userName = profile.getName();
                        const userEmail = profile.getEmail();

                        // Display user info
                        document.getElementById("user-name").textContent = userName;
                        document.getElementById("user-email").textContent = userEmail;
                        document.getElementById("user-info").classList.remove("hidden");

                        // Hide the sign-in button
                        document.getElementById("google-signin-btn").style.display = 'none';
                    });
                });
            });
        }

        // Sign out the user
        function signOut() {
            const authInstance = gapi.auth2.getAuthInstance();
            authInstance.signOut().then(function() {
                console.log('User signed out.');
                document.getElementById("user-info").classList.add("hidden");
                document.getElementById("google-signin-btn").style.display = 'block';
            });
        }
    </script>
</body>
</html>
